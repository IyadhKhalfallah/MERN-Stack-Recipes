{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/my-app/client/src/UserProfile.js\";\n\n/*Tanzim Mokammel\nmtanzim@gmail.com\nNov 2017\n*/\nimport React, { Component } from 'react';\nimport './style.css';\nimport axios from 'axios';\nimport PasswordForm from './PasswordForm';\n\nclass UserProfile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showPassForm = () => {\n      this.setState({\n        changePassToggle: !this.state.changePassToggle\n      });\n    };\n\n    this.showDelTog = () => {\n      this.setState({\n        changeDeleteToggle: !this.state.changeDeleteToggle\n      });\n    };\n\n    this.deleteAccount = () => {\n      console.log(\"OK :'(\");\n      axios({\n        method: 'post',\n        url: \"/api/\".concat(this.props.userID, \"/deleteAccount\"),\n        data: {}\n      }).then(res => {\n        //console.log(res.data);\n        this.props.handleError(\"Account Deleted, logging out!\");\n        window.location = '/';\n      }).catch(err => {\n        //console.log(err.response.data);\n        this.props.handleError(err.response.data.error);\n      });\n    };\n\n    this.state = {\n      changePassToggle: false,\n      changeDeleteToggle: false\n    };\n  }\n\n  componentDidMount() {//console.log(this.props.userInfo);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, this.props.userInfo), React.createElement(\"i\", {\n      className: this.props.userIcon,\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"card-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"card-text ml-3 mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Total Recipes: \", this.props.numRecipes), this.props.loginType === 'local' && React.createElement(\"button\", {\n      className: \"btn ml-3 mb-2\",\n      onClick: this.showPassForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Change Password\"), this.state.changePassToggle && React.createElement(PasswordForm, {\n      showPassForm: this.showPassForm,\n      handleError: this.props.handleError,\n      userID: this.props.userID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), !this.state.changeDeleteToggle && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger ml-3\",\n      onClick: this.showDelTog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Delete Account\")), this.state.changeDeleteToggle && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-success ml-3 mb-2\",\n      onClick: this.showDelTog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Keep Account\")), this.state.changeDeleteToggle && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger ml-3\",\n      onClick: this.deleteAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Confirm Delete!\"))))));\n  }\n\n}\n\nexport default UserProfile;","map":{"version":3,"sources":["/Users/macbookair/Desktop/my-app/client/src/UserProfile.js"],"names":["React","Component","axios","PasswordForm","UserProfile","constructor","props","showPassForm","setState","changePassToggle","state","showDelTog","changeDeleteToggle","deleteAccount","console","log","method","url","userID","data","then","res","handleError","window","location","catch","err","response","error","componentDidMount","render","userInfo","userIcon","numRecipes","loginType"],"mappings":"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","sourcesContent":["/*Tanzim Mokammel\nmtanzim@gmail.com\nNov 2017\n*/\nimport React, { Component } from 'react';\nimport './style.css';\nimport axios from 'axios';\nimport PasswordForm from './PasswordForm';\n\nclass UserProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      changePassToggle: false,\n      changeDeleteToggle: false\n    }\n  }\n  componentDidMount() {\n    //console.log(this.props.userInfo);\n  }\n  showPassForm = () => {\n    this.setState({\n      changePassToggle: !this.state.changePassToggle\n    })\n  }\n  showDelTog = () => {\n    this.setState({\n      changeDeleteToggle: !this.state.changeDeleteToggle\n    })\n  }\n  deleteAccount = () => {\n    console.log(\"OK :'(\");\n    axios({\n      method: 'post',\n      url: `/api/${this.props.userID}/deleteAccount`,\n      data: {\n      }\n    }).then(res => {\n      //console.log(res.data);\n      this.props.handleError(\"Account Deleted, logging out!\");\n      window.location = '/';\n    }).catch(err => {\n      //console.log(err.response.data);\n      this.props.handleError(err.response.data.error);\n    });\n  }\n  render() {\n\n    return (\n      <div className=\"row\">\n        <div className='col-12 col-sm-6'>\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3>{this.props.userInfo}</h3>\n              <i className={this.props.userIcon} aria-hidden=\"true\"></i>\n            </div>\n            <div className=\"card-block\">\n              <p className=\"card-text ml-3 mt-2\">Total Recipes: {this.props.numRecipes}</p>\n              {this.props.loginType === 'local' && (<button className=\"btn ml-3 mb-2\" onClick={this.showPassForm}>Change Password</button>)}\n              {this.state.changePassToggle && (<PasswordForm\n                showPassForm={this.showPassForm}\n                handleError={this.props.handleError}\n                userID={this.props.userID} />)}\n              {!this.state.changeDeleteToggle &&\n                (<p><button className=\"btn btn-danger ml-3\" onClick={this.showDelTog}>Delete Account</button></p>\n                )}\n              {this.state.changeDeleteToggle &&\n                (<p>\n                  <button className=\"btn btn-success ml-3 mb-2\" onClick={this.showDelTog}>Keep Account</button>\n                </p>)}\n              {this.state.changeDeleteToggle &&\n                (<p>\n                  <button className=\"btn btn-danger ml-3\" onClick={this.deleteAccount}>Confirm Delete!</button>\n                </p>)}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default UserProfile;\n\n\n"]},"metadata":{},"sourceType":"module"}