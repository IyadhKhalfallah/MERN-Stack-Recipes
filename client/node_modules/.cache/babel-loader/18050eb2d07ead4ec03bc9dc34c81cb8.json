{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/my-app/client/src/PasswordForm.js\";\n\n/*Tanzim Mokammel\nmtanzim@gmail.com\nNov 2017\n*/\nimport React, { Component } from 'react';\nimport './style.css';\nimport axios from 'axios';\n\nclass PasswordForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeCurPass = event => {\n      this.setState({\n        curPass: event.target.value\n      });\n    };\n\n    this.handleChangeNewPass = event => {\n      this.setState({\n        newPass: event.target.value\n      });\n    };\n\n    this.handleChangeNewPassVerify = event => {\n      this.setState({\n        newPassVerify: event.target.value\n      });\n    };\n\n    this.handleSavePass = event => {\n      event.preventDefault(); //console.log(this.state);\n\n      if (this.state.newPass !== this.state.newPassVerify) {\n        this.props.handleError(\"New passwords don't match!!\");\n      } else {\n        axios({\n          method: 'post',\n          url: \"/api/\".concat(this.props.userID, \"/changePass\"),\n          data: {\n            curPass: this.state.curPass,\n            newPass: this.state.newPass\n          }\n        }).then(res => {\n          //console.log(res.data);\n          this.setState({\n            curPass: '',\n            newPass: '',\n            newPassVerify: ''\n          });\n          this.props.showPassForm();\n          this.props.handleError(\"Password Changed!\"); //window.location = '/';\n          //return res;\n        }).catch(err => {\n          //console.log(err.response.data);\n          this.setState({\n            curPass: '',\n            newPass: '',\n            newPassVerify: ''\n          });\n          this.props.handleError(err.response.data.error);\n        });\n      }\n    };\n\n    this.state = {\n      curPass: '',\n      newPass: '',\n      newPassVerify: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"ml-3 mr-3\",\n      onSubmit: this.handleSavePass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"curPass\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Current Password\"), React.createElement(\"input\", {\n      required: true,\n      value: this.state.curPass,\n      onChange: this.handleChangeCurPass,\n      type: \"password\",\n      className: \"form-control\",\n      name: \"curPass\",\n      id: \"curPass\",\n      placeholder: \"Enter Current Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"newPass\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"New Password\"), React.createElement(\"input\", {\n      required: true,\n      value: this.state.newPass,\n      onChange: this.handleChangeNewPass,\n      type: \"password\",\n      className: \"form-control\",\n      name: \"newPass\",\n      id: \"newPass\",\n      placeholder: \"Enter New Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"newPassVerify\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Confirm New Password\"), React.createElement(\"input\", {\n      required: true,\n      value: this.state.newPassVerify,\n      onChange: this.handleChangeNewPassVerify,\n      type: \"password\",\n      className: \"form-control\",\n      name: \"newPassVerify\",\n      id: \"newPassVerify\",\n      placeholder: \"Enter New Password Again\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Save\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default PasswordForm;","map":{"version":3,"sources":["/Users/macbookair/Desktop/my-app/client/src/PasswordForm.js"],"names":["React","Component","axios","PasswordForm","constructor","props","handleChangeCurPass","event","setState","curPass","target","value","handleChangeNewPass","newPass","handleChangeNewPassVerify","newPassVerify","handleSavePass","preventDefault","state","handleError","method","url","userID","data","then","res","showPassForm","catch","err","response","error","render"],"mappings":"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","sourcesContent":["/*Tanzim Mokammel\nmtanzim@gmail.com\nNov 2017\n*/\nimport React, { Component } from 'react';\nimport './style.css';\nimport axios from 'axios';\n\n\nclass PasswordForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      curPass: '',\n      newPass: '',\n      newPassVerify: ''\n    }\n  }\n\n  handleChangeCurPass = (event) => {\n    this.setState({ curPass: event.target.value });\n  }\n  handleChangeNewPass = (event) => {\n    this.setState({ newPass: event.target.value });\n  }\n  handleChangeNewPassVerify = (event) => {\n    this.setState({ newPassVerify: event.target.value });\n  }\n\n  handleSavePass = (event) => {\n    event.preventDefault();\n    //console.log(this.state);\n    if (this.state.newPass !== this.state.newPassVerify) {\n      this.props.handleError(\"New passwords don't match!!\");\n    } else {\n\n      axios({\n        method: 'post',\n        url: `/api/${this.props.userID}/changePass`,\n        data: {\n          curPass: this.state.curPass,\n          newPass: this.state.newPass\n        }\n      }).then(res => {\n        //console.log(res.data);\n        this.setState({ curPass: '', newPass: '', newPassVerify: '' });\n        this.props.showPassForm();\n        this.props.handleError(\"Password Changed!\");\n        //window.location = '/';\n        //return res;\n      }).catch(err => {\n        //console.log(err.response.data);\n        this.setState({ curPass: '', newPass: '', newPassVerify: '' });\n        this.props.handleError(err.response.data.error);\n      });\n\n    }\n\n  }\n  render() {\n    return (\n      <form className=\"ml-3 mr-3\" onSubmit={this.handleSavePass}>\n        <div className=\"form-group\">\n          <label htmlFor=\"curPass\">Current Password</label>\n          <input required value={this.state.curPass} onChange={this.handleChangeCurPass} type=\"password\" className=\"form-control\" name=\"curPass\" id=\"curPass\" placeholder=\"Enter Current Password\"></input>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"newPass\">New Password</label>\n          <input required value={this.state.newPass} onChange={this.handleChangeNewPass} type=\"password\" className=\"form-control\" name=\"newPass\" id=\"newPass\" placeholder=\"Enter New Password\"></input>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"newPassVerify\">Confirm New Password</label>\n          <input required value={this.state.newPassVerify} onChange={this.handleChangeNewPassVerify} type=\"password\" className=\"form-control\" name=\"newPassVerify\" id=\"newPassVerify\" placeholder=\"Enter New Password Again\"></input>\n        </div>\n        <button type=\"submit\" className=\"btn mb-2\">Save</button><br></br>\n      </form>\n    )\n  }\n}\n\nexport default PasswordForm;"]},"metadata":{},"sourceType":"module"}